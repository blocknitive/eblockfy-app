<!DOCTYPE html>
<html class="no-js" lang="es-419"></html>
<head dir="ltr">
    <title>Eblockfy - Home</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="/images/png" href="/images/ico.png"> <!--NO MUESTRA EL ICONO EN CHROME-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.3/css/tether.min.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/mystyle.css">    
    <script src="http://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.min.js" integrity="sha256-eGE6blurk5sHj+rmkfsGYeKyZx3M4bG+ZlFyA7Kns7E="
        crossorigin="anonymous"></script> 
    <script defer src="https://use.fontawesome.com/releases/v5.0.9/js/all.js" integrity="sha384-8iPTk2s/jMVj81dnzb/iFR2sdA7u06vHJyyLlAd4snFpCl/SnyUjRrbdJsw1pGIl" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdn.rawgit.com/ricmoo/aes-js/e27b99df/index.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.min.js"></script>
    <script src="js/app.js"></script>  
</head>
<body>
    <!--Loggin panel-->
    <div id="login-panel" class="row">
        <div class="col-xs-10 col-xs-offset-1 col-sm-8 col-sm-offset-2 col-md-4 col-md-offset-4">
            <div class="login-panel panel panel-default">
                <div class="panel-heading">Log in</div>
                <div class="panel-body">
                    <form id="form-login" role="form">
                        <fieldset>
                            <div class="form-group">
                                <input class="form-control" aria-describedby="emailHelp" type="email" name="user" id="user" placeholder="Email" required/>
                                <small id="emailHelp" class="form-text text-muted">Asegurate de que es una dirección registrada en el sistema.</small>
                            </div>
                            <div class="form-group">
                                <input class="form-control" type="password" name="password" id="password" placeholder="Contraseña" required />
                            </div>
                            <button id="login-button" type="submit" class="btn btn-primary">Login</button>
                            <h3 class="text-danger" id="login-disabled-text" style="display:none;"></h3>
                        </fieldset>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!--Panel de registro de certificados y búsquedas-->
    <div id="main-panel" class="col-sm-10 col-sm-offset-1 col-lg-10 col-lg-offset-1 main" style="display:none;">
        <div class="row">
            <div class="col-lg-6">
                <h1 class="page-header">Creación certificados</h1>
            </div>
            <div class="col-lg-4 col-lg-offset-2">  <!--No habría que ponerle un ID para poder redimensionar la imagen?-->
                <img id="logo" src="/images/logo.png">
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-primary">
                    <div class="panel-heading">¡Bienvenido!</div>
                    <div class="panel-body">
                        <h4>Ayuda: </h4> <!--Añadir más información-->
                        <p>Este es un formulario a través del cual podrás rellenar los datos del alumno. El certificado se guardará en la blockchain.
                            <br/> Al crearlo podrás enviar el certificado por correo y obtendrás un link que te llevará a una página donde podrás verlo e imprimirlo.
                            <br/> ¡ATENCIÓN! Si se pierde el link del certificado, no habrá forma de rcuperarlo.
                            <br/> Si tiene cualquier duda a cerca de como utilizar la aplicación, consulte la documntación que se facilita en el archivo "infoEblockfy.pwt" .
                            <br/> Contacto -> info@blocknitive.com
                        </p>
                    </div>
                </div>
                <div id="tabs">
                    <ul class="nav nav-tabs">
                        <li class="nav-item">
                            <h3>
                                <a class="nav-link active" href="#certification-form">Crear certificado</a>
                            </h3>
                        </li>
                        <li class="nav-item">
                            <h3>
                                <a class="nav-link" href="#certification-search">Buscar certificado</a>
                            </h3>
                        </li>
                    </ul>
                    <!--Panel formulario-->
                    <div id="certification-form" class="panel panel-default">
                        <div class="panel-body">
                            <form id="form-certification">
                                <div class="col-sm-6 col-sm-offset-3">
                                    <div class="form-group">
                                        <p>A continuación podrás insertar la infromación del curso</p>
                                        <label>Nombre del curso:</label>
                                        <input class="form-control" name="courseName" id="courseName" value="Ingeniería de Telecomunicaciones"
                                            required>
                                        <label>Tipo de certificado:</label>
                                        <input class="form-control" name="courseCertificated" id="courseCertificated" value="123456" required>
                                        <label>Fechas del curso:</label>
                                        <input class="form-control" name="courseDate" id="courseDate" value="2014-2018" required>
                                    </div>
                                    <div class="panel panel-primary">
                                        <div class="panel-heading">Información del usuario</div>
                                        <div class="panel-body">
                                            <p>A continuación podrás insertar la información del alumno.</p>

                                            <div class="form-group">
                                                <label>Nombre del alumno</label>
                                                <input class="form-control" name="alumnName" id="alumnName" value="Un alumno" required>
                                            </div>
                                        </div>
                                    </div>
                                    <button id="submit-certificate" type="submit" class="btn btn-primary">Crear certificado</button>
                                    <i id="spinner" class="fas fa-spinner fa-spin" style="display:none"></i>
                                    <div id="certificate-link-container" class="message success" style="display:none;">
                                        <p>
                                            <strong>¡Certificado creado! </strong> ¡Puedes verlo
                                            <a id="certificate-link" target="_blank" href="certificate.html">aquí</a>!
                                        </p>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <!--Panel búsqueda-->
                    <div id="certification-search" class="panel panel-default">
                        <div class="panel-body">
                            <div class="col-sm-12">
                                <div id="imaginary_container">
                                    <label>Clave del certificado:</label>
                                    <div class="input-group stylish-input-group">
                                        <input id="search-input" type="text" class="form-control" placeholder="Search">
                                        <span class="input-group-addon">
                                            <button type="submit" id="search-button">
                                                <span class="glyphicon glyphicon-search"></span>
                                            </button>
                                        </span>
                                    </div>
                                </div>
                                <div class="panel panel-primary" id="search-result" style="display:none;">
                                    <div class="">
                                        <h3>Certificado:</h3>
                                    </div>
                                    <div class="panel-body">
                                        <table id="certificates-result" class="table table-hover" style="display:none">
                                            <tbody>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Este modal salta al cancelar la transacción-->
    <div id="myModalCancel" class="modal">
        <div class="modal-content">
            <div class="modal-header" style="background-color:#FF5733;">
                <span class="close">&times;</span>
                <h2>
                    <div class="glyphicon glyphicon-warning-sign"></div>
                    El certificado no se ha creado.  
                </h2>
            </div>
        </div>
    </div>
    <!-- Este modal salta al introducir un valor incorrecto en el buscador -->
    <div id="myModalHexError" class="modal">
        <div class="modal-content">
            <div class="modal-header" style="background-color:#FF5733;">
                <span class="close">&times;</span>
                <h2>
                    <div class="glyphicon glyphicon-warning-sign"></div>
                    El código tiene que estar en base hexadecimal. 
                </h2>
            </div>
        </div>
    </div>
</body>
</html>